(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"ct+p":function(t,e,a){"use strict";a.r(e),a.d(e,"HomeModule",function(){return B});var i=a("ofXK"),c=a("PCNd"),n=a("8pg1"),r=a("fXoL");let o=(()=>{class t{}return t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(e){return new(e||t)},imports:[[i.c,n.a,c.a]]}),t})();var s=a("VNNB"),b=a("IheW"),l=a("ZehF");let u=(()=>{class t{constructor(t,e){this.http=t,this.headers=e}buscarTodosPacientes(){return this.http.get(`${s.a.apiDev}/usuarios`,this.headers.getHttpHeaders())}excluirPaciente(t){return this.http.delete(`${s.a.apiDev}/usuarios/${t}`,this.headers.getHttpHeaders())}}return t.\u0275fac=function(e){return new(e||t)(r.cc(b.a),r.cc(l.a))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();var d=a("syFU"),m=a("0IaG"),p=a("bTqV");let h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-confirm-dilog"]],decls:11,vars:1,consts:[["align","center"],["mat-dialog-title",""],[1,"text-center"],["mat-raised-button","","color","warn","mat-dialog-close",""],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Vb(0,"mat-dialog-content",0),r.Vb(1,"div"),r.Vb(2,"h2",1),r.Hc(3,"Excluir Paciente."),r.Ub(),r.Vb(4,"p",2),r.Hc(5,"Deseja excluir esse paciente?"),r.Ub(),r.Ub(),r.Ub(),r.Vb(6,"mat-dialog-actions",0),r.Vb(7,"button",3),r.Hc(8,"Cancelar"),r.Ub(),r.Vb(9,"button",4),r.Hc(10,"Confirmar"),r.Ub(),r.Ub()),2&t&&(r.Cb(9),r.pc("mat-dialog-close",!0))},directives:[m.d,m.f,m.b,p.b,m.c],styles:[""]}),t})();var f=a("M9IT"),g=a("8LU1"),C=a("UhP/"),U=(a("Ht+U"),a("XNiG"));a("VRyK"),a("R0Ic"),a("u47x");const V=new r.s("MAT_SORT_DEFAULT_OPTIONS");class v{}const w=Object(C.w)(Object(C.u)(v));let S=(()=>{class t extends w{constructor(t){super(),this._defaultOptions=t,this.sortables=new Map,this._stateChanges=new U.a,this.start="asc",this._direction="",this.sortChange=new r.o}get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Object(g.c)(t)}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){var e,a,i;if(!t)return"";const c=null!==(a=null!==(e=null==t?void 0:t.disableClear)&&void 0!==e?e:this.disableClear)&&void 0!==a?a:!!(null===(i=this._defaultOptions)||void 0===i?void 0:i.disableClear);let n=function(t,e){let a=["asc","desc"];return"desc"==t&&a.reverse(),e||a.push(""),a}(t.start||this.start,c),r=n.indexOf(this.direction)+1;return r>=n.length&&(r=0),n[r]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(V,8))},t.\u0275dir=r.Kb({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[r.zb,r.Ab]}),t})();var D=a("OaSA"),H=a("/bvK"),y=a("Wp6s"),F=a("Q2Ze"),P=a("e6WT"),T=a("STbY"),O=a("Tj54"),x=a("tyNb"),_=a("tmjD");function j(t,e){1&t&&(r.Vb(0,"th",17),r.Hc(1," Paciente "),r.Ub())}function k(t,e){if(1&t&&(r.Vb(0,"td",18),r.Hc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Ic(t.nome)}}function I(t,e){1&t&&(r.Vb(0,"th",17),r.Hc(1," Email "),r.Ub())}function N(t,e){if(1&t&&(r.Vb(0,"td",18),r.Hc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Jc(" ",t.email," ")}}function $(t,e){1&t&&(r.Vb(0,"th",17),r.Hc(1," CPF "),r.Ub())}function M(t,e){if(1&t&&(r.Vb(0,"td",18),r.Vb(1,"span"),r.Hc(2),r.kc(3,"mask"),r.Ub(),r.Ub()),2&t){const t=e.$implicit,a=r.jc(2);r.Cb(2),r.Ic(r.mc(3,1,t.numeroDoCpf,a.getCpfCnpjMask(t.numeroDoCpf)))}}function L(t,e){1&t&&(r.Vb(0,"th",17),r.Hc(1," Data Nasc. "),r.Ub())}function R(t,e){if(1&t&&(r.Vb(0,"td",18),r.Hc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Jc(" ",t.dataDeNascimentoFormatada," ")}}function A(t,e){1&t&&(r.Vb(0,"th",17),r.Hc(1," A\xe7\xf5es "),r.Ub())}const J=function(t){return["aplicacao-vacina/aplicacao",t]},z=function(t){return["editar",t]};function E(t,e){if(1&t){const t=r.Wb();r.Vb(0,"td",18),r.Vb(1,"button",19),r.Vb(2,"mat-icon"),r.Hc(3,"more_vert"),r.Ub(),r.Ub(),r.Vb(4,"mat-menu",null,20),r.Vb(6,"div",21),r.Vb(7,"button",22),r.Vb(8,"span"),r.Vb(9,"mat-icon",23),r.Hc(10,"local_pharmacy"),r.Ub(),r.Hc(11,"vacinar "),r.Ub(),r.Ub(),r.Ub(),r.Vb(12,"div",21),r.Vb(13,"button",22),r.Vb(14,"span"),r.Vb(15,"mat-icon",24),r.Hc(16,"edit"),r.Ub(),r.Hc(17,"editar "),r.Ub(),r.Ub(),r.Ub(),r.Vb(18,"div",21),r.Vb(19,"button",25),r.fc("click",function(){r.zc(t);const a=e.$implicit;return r.jc(2).excluir(a.id)}),r.Vb(20,"span"),r.Vb(21,"mat-icon",26),r.Hc(22,"delete"),r.Ub(),r.Hc(23,"excluir "),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()}if(2&t){const t=e.$implicit,a=r.xc(5);r.Cb(1),r.pc("matMenuTriggerFor",a),r.Cb(6),r.pc("routerLink",r.tc(3,J,t.numeroDoCpf)),r.Cb(6),r.pc("routerLink",r.tc(5,z,t.id))}}function Q(t,e){1&t&&r.Qb(0,"tr",27)}function W(t,e){1&t&&r.Qb(0,"tr",28)}function K(t,e){1&t&&(r.Vb(0,"tr",29),r.Vb(1,"td",30),r.Hc(2,"Sem Informa\xe7\xf5es."),r.Ub(),r.Ub())}function X(t,e){if(1&t){const t=r.Wb();r.Vb(0,"article",2),r.Vb(1,"mat-card"),r.Vb(2,"mat-card-title"),r.Hc(3,"Ficha dos pacientes"),r.Ub(),r.Vb(4,"mat-card-content",3),r.Vb(5,"mat-form-field"),r.Vb(6,"mat-label"),r.Hc(7,"Filtro"),r.Ub(),r.Vb(8,"input",4,5),r.fc("keyup",function(e){return r.zc(t),r.jc().applyFilter(e)}),r.Ub(),r.Ub(),r.Vb(10,"table",6),r.Tb(11,7),r.Fc(12,j,2,0,"th",8),r.Fc(13,k,2,1,"td",9),r.Sb(),r.Tb(14,10),r.Fc(15,I,2,0,"th",8),r.Fc(16,N,2,1,"td",9),r.Sb(),r.Tb(17,11),r.Fc(18,$,2,0,"th",8),r.Fc(19,M,4,4,"td",9),r.Sb(),r.Tb(20,12),r.Fc(21,L,2,0,"th",8),r.Fc(22,R,2,1,"td",9),r.Sb(),r.Tb(23,13),r.Fc(24,A,2,0,"th",8),r.Fc(25,E,24,7,"td",9),r.Sb(),r.Fc(26,Q,1,0,"tr",14),r.Fc(27,W,1,0,"tr",15),r.Fc(28,K,3,0,"tr",16),r.Ub(),r.Ub(),r.Ub(),r.Ub()}if(2&t){const t=r.jc();r.Cb(10),r.pc("dataSource",t.dataSource),r.Cb(16),r.pc("matHeaderRowDef",t.displayedColumns),r.Cb(1),r.pc("matRowDefColumns",t.displayedColumns)}}const G=[{path:"",component:(()=>{class t{constructor(t,e){this.homeService=t,this.dialog=e,this.displayedColumns=["nome","email","numeroDoCpf","dataDeNascimento","acoes"],this.pacientes$=[],this.dataSource=new D.l(this.pacientes$),this.buscarTodosOsPacientes()}ngOnInit(){this.dataSource.sort=this.sort,this.aplicarPaginator(this.pacientes$)}aplicarPaginator(t){this.dataSource=new D.l(t),this.dataSource.paginator=this.paginator,void 0!==this.dataSource.paginator&&this.dataSource.paginator.firstPage()}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openDialog(){return this.dialog.open(h,{width:"300px"}).afterClosed()}buscarTodosOsPacientes(){this.pacientes$=[],this.homeService.buscarTodosPacientes().subscribe(t=>{t.forEach(t=>{this.pacientes$.push(new d.a(Object.assign({},t)))}),this.aplicarPaginator(this.pacientes$)})}excluir(t){this.openDialog().subscribe(e=>{e&&this.homeService.excluirPaciente(t).subscribe(t=>{this.buscarTodosOsPacientes()},t=>console.log(t))})}isCPF(t){return null==t||t.length<12}getCpfCnpjMask(t){return this.isCPF(t)?"000.000.000-009":"00.000.000/0000-00"}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(m.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-home"]],viewQuery:function(t,e){if(1&t&&(r.Lc(f.a,1),r.Lc(S,1)),2&t){let t;r.wc(t=r.gc())&&(e.paginator=t.first),r.wc(t=r.gc())&&(e.sort=t.first)}},decls:3,vars:1,consts:[[1,"container"],["class","my-5 ",4,"ngIf"],[1,"my-5"],[1,"table-responsive"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nome"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","numeroDoCpf"],["matColumnDef","dataDeNascimento"],["matColumnDef","acoes"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],["mat-icon-button","",3,"routerLink"],["color","accent"],["color","primary"],["mat-icon-button","",3,"click"],["color","warn"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(r.Qb(0,"app-navbar"),r.Vb(1,"section",0),r.Fc(2,X,29,3,"article",1),r.Ub()),2&t&&(r.Cb(2),r.pc("ngIf",e.pacientes$.length>0))},directives:[H.a,i.l,y.a,y.d,y.b,F.b,F.e,P.b,D.k,D.c,D.e,D.b,D.g,D.j,D.h,D.d,D.a,p.b,T.d,O.a,T.a,T.b,x.c,D.f,D.i],pipes:[_.b],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-elevation-z8[_ngcontent-%COMP%]{overflow-x:auto}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(e){return new(e||t)},imports:[[x.e.forChild(G)],x.e]}),t})();var q=a("Tx//");let B=(()=>{class t{}return t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(e){return new(e||t)},providers:[u,l.a],imports:[[i.c,Z,q.a,n.a,c.a,o]]}),t})()}}]);